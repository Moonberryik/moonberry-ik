<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonberry Ä°K - Checklist Seed</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', -apple-system, sans-serif; background: #0a0a0a; color: #fff; padding: 40px; line-height: 1.6; }
        .container { max-width: 900px; margin: 0 auto; }
        h1 { color: #00c9a7; margin-bottom: 10px; }
        h2 { color: #f1c40f; margin: 30px 0 15px; font-size: 1.2rem; }
        .subtitle { color: #888; margin-bottom: 30px; }
        .warning { background: rgba(231,76,60,.2); border: 1px solid #e74c3c; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .warning strong { color: #e74c3c; }
        .info { background: rgba(0,201,167,.1); border: 1px solid #00c9a7; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; margin: 5px; transition: all .2s; }
        .btn-primary { background: #00c9a7; color: #000; font-weight: 600; }
        .btn-primary:hover { background: #00b396; }
        .btn-secondary { background: #333; color: #fff; }
        .btn-secondary:hover { background: #444; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        #log { background: #111; border: 1px solid #333; border-radius: 8px; padding: 20px; margin-top: 20px; max-height: 400px; overflow-y: auto; font-family: monospace; font-size: .85rem; }
        .log-success { color: #00c9a7; }
        .log-error { color: #e74c3c; }
        .log-info { color: #3498db; }
        .log-warn { color: #f1c40f; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat { background: #1a1a1a; padding: 20px; border-radius: 12px; text-align: center; }
        .stat-value { font-size: 2rem; font-weight: 700; color: #00c9a7; }
        .stat-label { color: #888; font-size: .85rem; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #333; }
        th { color: #888; font-weight: 500; }
        .badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: .75rem; }
        .badge-success { background: rgba(0,201,167,.2); color: #00c9a7; }
        .badge-warning { background: rgba(241,196,15,.2); color: #f1c40f; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ± Checklist Seed Tool</h1>
        <p class="subtitle">Moonberry Ä°K - Checklist Maddelerini Firebase'e YÃ¼kle</p>
        
        <div class="warning">
            <strong>âš ï¸ DÄ°KKAT:</strong> Bu script sadece checklist maddelerini yÃ¼kler. Personel verilerine dokunmaz.
        </div>
        
        <div class="info">
            <strong>â„¹ï¸ BÄ°LGÄ°:</strong> Mevcut checklist maddeleri varsa Ã¼zerine yazÄ±lacaktÄ±r.
        </div>
        
        <h2>ğŸ“Š YÃ¼klenecek Veriler</h2>
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="totalTypes">7</div>
                <div class="stat-label">Checklist TÃ¼rÃ¼</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="totalItems">50+</div>
                <div class="stat-label">Toplam Madde</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="totalBranches">2</div>
                <div class="stat-label">Åube</div>
            </div>
        </div>
        
        <h2>ğŸ“‹ Checklist TÃ¼rleri</h2>
        <table>
            <thead>
                <tr>
                    <th>TÃ¼r</th>
                    <th>AÃ§Ä±klama</th>
                    <th>Madde SayÄ±sÄ±</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>acilis_hazirliklari</td><td>AÃ§Ä±lÄ±ÅŸ HazÄ±rlÄ±klarÄ±</td><td>12</td></tr>
                <tr><td>kapanis_hazirliklari</td><td>KapanÄ±ÅŸ HazÄ±rlÄ±klarÄ±</td><td>10</td></tr>
                <tr><td>gunluk</td><td>GÃ¼nlÃ¼k Genel Check</td><td>8</td></tr>
                <tr><td>temizlik_acilisci</td><td>Temizlik - AÃ§Ä±lÄ±ÅŸÃ§Ä±</td><td>8</td></tr>
                <tr><td>temizlik_araci</td><td>Temizlik - AracÄ±</td><td>6</td></tr>
                <tr><td>temizlik_kapanisci</td><td>Temizlik - KapanÄ±ÅŸÃ§Ä±</td><td>8</td></tr>
                <tr><td>aylik_temizlik</td><td>AylÄ±k Derin Temizlik</td><td>16</td></tr>
            </tbody>
        </table>
        
        <h2>ğŸš€ Ä°ÅŸlemler</h2>
        <div style="margin: 20px 0">
            <button class="btn btn-primary" onclick="seedChecklistTypes()" id="btnSeed">
                âœ… Checklist Maddelerini YÃ¼kle
            </button>
            <button class="btn btn-secondary" onclick="viewCurrentData()">
                ğŸ‘ï¸ Mevcut Verileri GÃ¶r
            </button>
            <button class="btn btn-secondary" onclick="clearLog()">
                ğŸ—‘ï¸ Logu Temizle
            </button>
        </div>
        
        <h2>ğŸ“œ Ä°ÅŸlem Logu</h2>
        <div id="log">HazÄ±r. Butona tÄ±klayarak baÅŸlayÄ±n...</div>
    </div>

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyCbc-8oWwOj2eR0J19f3T-UYT9vGI8PL7M",
            authDomain: "moonberry-ik.firebaseapp.com",
            projectId: "moonberry-ik",
            storageBucket: "moonberry-ik.firebasestorage.app",
            messagingSenderId: "4872042742",
            appId: "1:4872042742:web:24a9e5935e2b5591a794d7"
        };
        
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
        
        // Åubeler
        const BRANCHES = ['Tuzla Port', 'ÅiÅŸli (Merkez)'];
        
        // ==================== CHECKLÄ°ST MADDELERÄ° ====================
        
        const CHECKLIST_DATA = {
            // AÃ‡ILIÅ HAZIRLIKLARI
            'acilis_hazirliklari': {
                name: 'AÃ§Ä±lÄ±ÅŸ HazÄ±rlÄ±klarÄ±',
                icon: 'ğŸŒ…',
                color: '#00c9a7',
                items: [
                    { id: 'ac_01', text: 'MaÄŸaza Ä±ÅŸÄ±klarÄ± ve klimalar aÃ§Ä±ldÄ±', category: 'Genel', order: 1 },
                    { id: 'ac_02', text: 'Kasa aÃ§Ä±lÄ±ÅŸ sayÄ±mÄ± yapÄ±ldÄ±', category: 'Kasa', order: 2 },
                    { id: 'ac_03', text: 'Espresso makinesi Ä±sÄ±tÄ±ldÄ± ve temizlendi', category: 'Ekipman', order: 3 },
                    { id: 'ac_04', text: 'Ã–ÄŸÃ¼tÃ¼cÃ¼ ayarlarÄ± kontrol edildi', category: 'Ekipman', order: 4 },
                    { id: 'ac_05', text: 'BuzdolabÄ± sÄ±caklÄ±klarÄ± kontrol edildi', category: 'GÄ±da GÃ¼venliÄŸi', order: 5 },
                    { id: 'ac_06', text: 'SÃ¼t ve kremalar kontrol edildi', category: 'GÄ±da GÃ¼venliÄŸi', order: 6 },
                    { id: 'ac_07', text: 'Tezgah ve bar alanÄ± hazÄ±rlandÄ±', category: 'HazÄ±rlÄ±k', order: 7 },
                    { id: 'ac_08', text: 'Åuruplar ve soslar kontrol edildi', category: 'Stok', order: 8 },
                    { id: 'ac_09', text: 'Bardak ve malzeme stoklarÄ± kontrol edildi', category: 'Stok', order: 9 },
                    { id: 'ac_10', text: 'MÃ¼zik sistemi aÃ§Ä±ldÄ±', category: 'Ambiyans', order: 10 },
                    { id: 'ac_11', text: 'Platformlar (Trendyol, Getir, Yemeksepeti) aÃ§Ä±ldÄ±', category: 'Platform', order: 11 },
                    { id: 'ac_12', text: 'GiriÅŸ alanÄ± ve masalar kontrol edildi', category: 'Salon', order: 12 }
                ]
            },
            
            // KAPANIÅ HAZIRLIKLARI
            'kapanis_hazirliklari': {
                name: 'KapanÄ±ÅŸ HazÄ±rlÄ±klarÄ±',
                icon: 'ğŸŒ™',
                color: '#9b59b6',
                items: [
                    { id: 'kp_01', text: 'Platformlar (Trendyol, Getir, Yemeksepeti) kapatÄ±ldÄ±', category: 'Platform', order: 1 },
                    { id: 'kp_02', text: 'Kasa kapanÄ±ÅŸ sayÄ±mÄ± yapÄ±ldÄ±', category: 'Kasa', order: 2 },
                    { id: 'kp_03', text: 'GÃ¼nlÃ¼k satÄ±ÅŸ raporu kontrol edildi', category: 'Kasa', order: 3 },
                    { id: 'kp_04', text: 'Espresso makinesi temizlendi ve kapatÄ±ldÄ±', category: 'Ekipman', order: 4 },
                    { id: 'kp_05', text: 'Ã–ÄŸÃ¼tÃ¼cÃ¼ler temizlendi', category: 'Ekipman', order: 5 },
                    { id: 'kp_06', text: 'TÃ¼m yÃ¼zeyler temizlendi ve dezenfekte edildi', category: 'Temizlik', order: 6 },
                    { id: 'kp_07', text: 'Ã‡Ã¶pler boÅŸaltÄ±ldÄ±', category: 'Temizlik', order: 7 },
                    { id: 'kp_08', text: 'BuzdolaplarÄ± kontrol edildi ve kapatÄ±ldÄ±', category: 'Ekipman', order: 8 },
                    { id: 'kp_09', text: 'TÃ¼m Ä±ÅŸÄ±klar ve klimalar kapatÄ±ldÄ±', category: 'Genel', order: 9 },
                    { id: 'kp_10', text: 'MaÄŸaza gÃ¼venli ÅŸekilde kilitlendi', category: 'GÃ¼venlik', order: 10 }
                ]
            },
            
            // GÃœNLÃœK GENEL CHECK
            'gunluk': {
                name: 'GÃ¼nlÃ¼k Genel Check',
                icon: 'ğŸ“‹',
                color: '#3498db',
                items: [
                    { id: 'gn_01', text: 'Kasa durumu kontrol edildi', category: 'Kasa', order: 1 },
                    { id: 'gn_02', text: 'Espresso makinesi performansÄ± kontrol edildi', category: 'Ekipman', order: 2 },
                    { id: 'gn_03', text: 'BuzdolabÄ± sÄ±caklÄ±klarÄ± log\'a iÅŸlendi', category: 'GÄ±da GÃ¼venliÄŸi', order: 3 },
                    { id: 'gn_04', text: 'Malzeme eksikleri not edildi', category: 'Stok', order: 4 },
                    { id: 'gn_05', text: 'Tezgah temizliÄŸi yapÄ±ldÄ±', category: 'Temizlik', order: 5 },
                    { id: 'gn_06', text: 'WC kontrol edildi', category: 'Temizlik', order: 6 },
                    { id: 'gn_07', text: 'Platform sipariÅŸleri kontrol edildi', category: 'Platform', order: 7 },
                    { id: 'gn_08', text: 'MÃ¼ÅŸteri ÅŸikayetleri/Ã¶nerileri not edildi', category: 'MÃ¼ÅŸteri', order: 8 }
                ]
            },
            
            // TEMÄ°ZLÄ°K - AÃ‡ILIÅÃ‡I
            'temizlik_acilisci': {
                name: 'Temizlik Checklist - AÃ§Ä±lÄ±ÅŸÃ§Ä±',
                icon: 'ğŸ§¹',
                color: '#f1c40f',
                shift: 'acilisci',
                items: [
                    { id: 'ta_01', text: 'Zemin sÃ¼pÃ¼rÃ¼ldÃ¼', category: 'Zemin', order: 1 },
                    { id: 'ta_02', text: 'Masalar ve sandalyeler silindi', category: 'Salon', order: 2 },
                    { id: 'ta_03', text: 'Vitrin camlarÄ± temizlendi', category: 'Cam', order: 3 },
                    { id: 'ta_04', text: 'GiriÅŸ kapÄ±sÄ± ve etrafÄ± temizlendi', category: 'GiriÅŸ', order: 4 },
                    { id: 'ta_05', text: 'Bar tezgahÄ± dezenfekte edildi', category: 'Bar', order: 5 },
                    { id: 'ta_06', text: 'Espresso makinesi dÄ±ÅŸ yÃ¼zeyi temizlendi', category: 'Ekipman', order: 6 },
                    { id: 'ta_07', text: 'WC kontrol edildi ve temizlendi', category: 'WC', order: 7 },
                    { id: 'ta_08', text: 'Ã‡Ã¶pler kontrol edildi', category: 'Ã‡Ã¶p', order: 8 }
                ]
            },
            
            // TEMÄ°ZLÄ°K - ARACI
            'temizlik_araci': {
                name: 'Temizlik Checklist - AracÄ±',
                icon: 'ğŸ§¹',
                color: '#e67e22',
                shift: 'araci',
                items: [
                    { id: 'tr_01', text: 'Masalar temizlendi', category: 'Salon', order: 1 },
                    { id: 'tr_02', text: 'Bar alanÄ± dÃ¼zenlendi', category: 'Bar', order: 2 },
                    { id: 'tr_03', text: 'WC kontrol edildi', category: 'WC', order: 3 },
                    { id: 'tr_04', text: 'Ã‡Ã¶pler kontrol edildi ve gerekirse boÅŸaltÄ±ldÄ±', category: 'Ã‡Ã¶p', order: 4 },
                    { id: 'tr_05', text: 'Stok durumu kontrol edildi', category: 'Stok', order: 5 },
                    { id: 'tr_06', text: 'Zemin kirli alanlar temizlendi', category: 'Zemin', order: 6 }
                ]
            },
            
            // TEMÄ°ZLÄ°K - KAPANIÅÃ‡I
            'temizlik_kapanisci': {
                name: 'Temizlik Checklist - KapanÄ±ÅŸÃ§Ä±',
                icon: 'ğŸ§¹',
                color: '#8e44ad',
                shift: 'kapanisci',
                items: [
                    { id: 'tk_01', text: 'TÃ¼m masalar temizlendi ve dezenfekte edildi', category: 'Salon', order: 1 },
                    { id: 'tk_02', text: 'Zemin Ä±slak bezle silindi', category: 'Zemin', order: 2 },
                    { id: 'tk_03', text: 'Bar tezgahÄ± komple temizlendi', category: 'Bar', order: 3 },
                    { id: 'tk_04', text: 'Espresso makinesi temizlendi', category: 'Ekipman', order: 4 },
                    { id: 'tk_05', text: 'Ã–ÄŸÃ¼tÃ¼cÃ¼ler temizlendi', category: 'Ekipman', order: 5 },
                    { id: 'tk_06', text: 'WC derin temizlik yapÄ±ldÄ±', category: 'WC', order: 6 },
                    { id: 'tk_07', text: 'TÃ¼m Ã§Ã¶pler boÅŸaltÄ±ldÄ±', category: 'Ã‡Ã¶p', order: 7 },
                    { id: 'tk_08', text: 'BuzdolabÄ± iÃ§i dÃ¼zenlendi', category: 'Depo', order: 8 }
                ]
            },
            
            // AYLIK DERÄ°N TEMÄ°ZLÄ°K
            'aylik_temizlik': {
                name: 'AylÄ±k Derin Temizlik',
                icon: 'âœ¨',
                color: '#1abc9c',
                items: [
                    { id: 'ay_01', text: 'TÃ¼m masalar ve sandalyeler derin temizlendi', category: 'Salon', order: 1 },
                    { id: 'ay_02', text: 'Zemin makineli temizlik yapÄ±ldÄ±', category: 'Zemin', order: 2 },
                    { id: 'ay_03', text: 'TÃ¼m vitrin camlarÄ± iÃ§ten ve dÄ±ÅŸtan temizlendi', category: 'Cam', order: 3 },
                    { id: 'ay_04', text: 'MenÃ¼ tahtalarÄ±/standlarÄ± temizlendi', category: 'Dekorasyon', order: 4 },
                    { id: 'ay_05', text: 'Tavan ve duvarlar kontrol edildi', category: 'Genel', order: 5 },
                    { id: 'ay_06', text: 'AydÄ±nlatma armatÃ¼rleri temizlendi', category: 'Genel', order: 6 },
                    { id: 'ay_07', text: 'Bar tezgahÄ± derin temizlik yapÄ±ldÄ±', category: 'Bar', order: 7 },
                    { id: 'ay_08', text: 'Espresso makinesi descale yapÄ±ldÄ±', category: 'Ekipman', order: 8 },
                    { id: 'ay_09', text: 'Ã–ÄŸÃ¼tÃ¼cÃ¼ler derin temizlendi', category: 'Ekipman', order: 9 },
                    { id: 'ay_10', text: 'Blenderlar derin temizlendi', category: 'Ekipman', order: 10 },
                    { id: 'ay_11', text: 'BuzdolabÄ± iÃ§i komple temizlendi', category: 'Depo', order: 11 },
                    { id: 'ay_12', text: 'Depo dÃ¼zenlendi ve temizlendi', category: 'Depo', order: 12 },
                    { id: 'ay_13', text: 'WC derin temizlik ve dezenfeksiyon', category: 'WC', order: 13 },
                    { id: 'ay_14', text: 'Klima filtreleri kontrol edildi', category: 'Ekipman', order: 14 },
                    { id: 'ay_15', text: 'DÄ±ÅŸ alan (varsa) temizlendi', category: 'DÄ±ÅŸ', order: 15 },
                    { id: 'ay_16', text: 'ÃœrÃ¼n son kullanma tarihleri kontrol edildi', category: 'GÄ±da GÃ¼venliÄŸi', order: 16 }
                ]
            }
        };
        
        // ==================== PLATFORM AYARLARI ====================
        
        const PLATFORM_CONFIG = {
            platforms: ['Trendyol', 'Yemek Sepeti', 'Getir Yemek', 'Migros'],
            checkTimes: ['10:00', '12:00', '15:00', '18:00', '21:00', '00:00']
        };
        
        // ==================== SYSTEM CONFIG ====================
        
        const SYSTEM_CONFIG = {
            branches: BRANCHES,
            branchHours: {
                'Tuzla Port': { open: '10:00', close: '00:00' },
                'ÅiÅŸli (Merkez)': { open: '08:00', close: '23:00' }
            },
            checkRules: {
                platformCheckTimes: PLATFORM_CONFIG.checkTimes,
                platforms: PLATFORM_CONFIG.platforms,
                temizlikShiftRules: {
                    acilisci: { deadline: '11:00', label: 'AÃ§Ä±lÄ±ÅŸÃ§Ä±' },
                    araci: { deadline: '17:00', label: 'AracÄ±' },
                    kapanisci: { deadline: '00:30', label: 'KapanÄ±ÅŸÃ§Ä±' }
                },
                toleranceMinutes: 30
            }
        };
        
        // ==================== LOG FONKSÄ°YONLARI ====================
        
        function log(message, type = 'info') {
            const logEl = document.getElementById('log');
            const time = new Date().toLocaleTimeString('tr-TR');
            const className = `log-${type}`;
            logEl.innerHTML += `<div class="${className}">[${time}] ${message}</div>`;
            logEl.scrollTop = logEl.scrollHeight;
        }
        
        function clearLog() {
            document.getElementById('log').innerHTML = 'Log temizlendi...';
        }
        
        // ==================== SEED FONKSÄ°YONLARI ====================
        
        async function seedChecklistTypes() {
            const btn = document.getElementById('btnSeed');
            btn.disabled = true;
            btn.textContent = 'â³ YÃ¼kleniyor...';
            
            try {
                // Ã–nce giriÅŸ kontrolÃ¼
                const user = auth.currentUser;
                if (!user) {
                    log('âŒ GiriÅŸ yapÄ±lmamÄ±ÅŸ! Ã–nce ana uygulamadan giriÅŸ yapÄ±n.', 'error');
                    btn.disabled = false;
                    btn.textContent = 'âœ… Checklist Maddelerini YÃ¼kle';
                    return;
                }
                
                log(`âœ… GiriÅŸ yapÄ±lmÄ±ÅŸ: ${user.email}`, 'success');
                
                // 1. Her ÅŸube iÃ§in checklist tÃ¼rlerini yÃ¼kle
                for (const branch of BRANCHES) {
                    log(`ğŸ“ ${branch} iÃ§in checklist tÃ¼rleri yÃ¼kleniyor...`, 'info');
                    
                    const branchTypes = [];
                    
                    for (const [typeId, typeData] of Object.entries(CHECKLIST_DATA)) {
                        branchTypes.push({
                            id: typeId,
                            name: typeData.name,
                            icon: typeData.icon,
                            color: typeData.color,
                            shift: typeData.shift || null,
                            items: typeData.items,
                            createdAt: new Date().toISOString()
                        });
                    }
                    
                    // config/checklistTypes dokÃ¼manÄ±nÄ± gÃ¼ncelle
                    const configRef = db.collection('config').doc('checklistTypes');
                    const configDoc = await configRef.get();
                    let allTypes = configDoc.exists ? configDoc.data() : {};
                    
                    allTypes[branch] = branchTypes;
                    await configRef.set(allTypes);
                    
                    log(`âœ… ${branch}: ${branchTypes.length} checklist tÃ¼rÃ¼ yÃ¼klendi`, 'success');
                }
                
                // 2. System config'i gÃ¼ncelle
                log('âš™ï¸ Sistem ayarlarÄ± yÃ¼kleniyor...', 'info');
                await db.collection('systemConfig').doc('checkRules').set(SYSTEM_CONFIG);
                log('âœ… Sistem ayarlarÄ± yÃ¼klendi', 'success');
                
                // 3. Platform config'i ayrÄ±ca kaydet
                log('ğŸ“± Platform ayarlarÄ± yÃ¼kleniyor...', 'info');
                await db.collection('config').doc('platforms').set({
                    list: PLATFORM_CONFIG.platforms,
                    checkTimes: PLATFORM_CONFIG.checkTimes,
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                log('âœ… Platform ayarlarÄ± yÃ¼klendi', 'success');
                
                // Toplam
                let totalItems = 0;
                for (const typeData of Object.values(CHECKLIST_DATA)) {
                    totalItems += typeData.items.length;
                }
                
                log('', 'info');
                log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'success');
                log(`ğŸ‰ TAMAMLANDI!`, 'success');
                log(`ğŸ“‹ ${Object.keys(CHECKLIST_DATA).length} checklist tÃ¼rÃ¼`, 'success');
                log(`ğŸ“ ${totalItems} toplam madde`, 'success');
                log(`ğŸ“ ${BRANCHES.length} ÅŸube`, 'success');
                log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'success');
                log('', 'info');
                log('SayfayÄ± yenileyerek deÄŸiÅŸiklikleri gÃ¶rebilirsiniz.', 'info');
                
            } catch (error) {
                log(`âŒ HATA: ${error.message}`, 'error');
                console.error(error);
            }
            
            btn.disabled = false;
            btn.textContent = 'âœ… Checklist Maddelerini YÃ¼kle';
        }
        
        async function viewCurrentData() {
            log('ğŸ“Š Mevcut veriler kontrol ediliyor...', 'info');
            
            try {
                // Checklist tÃ¼rleri
                const typesDoc = await db.collection('config').doc('checklistTypes').get();
                if (typesDoc.exists) {
                    const data = typesDoc.data();
                    for (const [branch, types] of Object.entries(data)) {
                        log(`ğŸ“ ${branch}: ${types.length} checklist tÃ¼rÃ¼`, 'info');
                        types.forEach(t => {
                            log(`   - ${t.name}: ${t.items?.length || 0} madde`, 'info');
                        });
                    }
                } else {
                    log('âš ï¸ Checklist tÃ¼rleri bulunamadÄ±', 'warn');
                }
                
                // System config
                const configDoc = await db.collection('systemConfig').doc('checkRules').get();
                if (configDoc.exists) {
                    const data = configDoc.data();
                    log(`âš™ï¸ System config: ${JSON.stringify(data.checkRules?.platforms || [])}`, 'info');
                } else {
                    log('âš ï¸ System config bulunamadÄ±', 'warn');
                }
                
            } catch (error) {
                log(`âŒ Veri okuma hatasÄ±: ${error.message}`, 'error');
            }
        }
        
        // Sayfa yÃ¼klendiÄŸinde auth durumunu kontrol et
        auth.onAuthStateChanged(user => {
            if (user) {
                log(`âœ… Oturum aÃ§Ä±k: ${user.email}`, 'success');
            } else {
                log('âš ï¸ Oturum aÃ§Ä±k deÄŸil. Ã–nce ana uygulamadan giriÅŸ yapÄ±n!', 'warn');
            }
        });
    </script>
</body>
</html>
